{{ 'component-card.css' | asset_url | stylesheet_tag }}

<div class="card">
  <a class="card__link" href="{{ card_product.url }}">
    <div class="card__media">
      <img
        class="card__img"
        src="{{ card_product.featured_media | img_url: 'large' }}"
        alt="{{ card_product.title | escape }}"
      >

      {% comment %} зображення не розтягується :( {% endcomment %}
      {% comment %} {% render 'image-lazy', image: card_product.featured_media, class: 'card__img' %} {% endcomment %}
    </div>

    <div class="card__content">
      <h3 class="card__title">
        {{ card_product.title }}
      </h3>
    </div>
  </a>

  <div class="card__content">
    {%- liquid
      assign product_form_id = 'quick-add-' | append: section_id | append: card_product.id
    -%}

    <product-form
      class="product-form"
      data-section-id="{{ section.id }}"
    >
      {%- form 'product', card_product, id: product_form_id, class: 'js-product__form' -%}
        <input
          type="hidden"
          name="id"
          value="{{ card_product.selected_or_first_available_variant.id }}"
          class="product-variant-id"
        >
        {% comment %}
          <button
            id="ProductSubmitButton-{{ section_id }}"
            type="submit"
            name="add"
            class="card__btn js-product__form-button"
          >
            <span> {{ 'components.card.add_to_cart' | t }} - {{ card_product.price | money }} </span>
          </button>
        {% endcomment %}

        <button
          id="ProductSubmitButton-{{ section_id }}"
          type="submit"
          name="add"
          class="card__btn js-product__form-button"
        >
          <span> {{ 'components.card.add_to_cart' | t }} - {{ card_product.price | money }} </span>
        </button>
      {% endform %}
    </product-form>
  </div>
</div>
